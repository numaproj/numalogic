stream_confs:
  perf-p90:
    config_id: "perf-p90"
    source: "druid"
    composite_keys: [ "pluginAssetAlias" ]
    metrics: [ "p90" ]
    window_size: 10
    numalogic_conf:
      model:
        name: "VanillaAE"
        conf:
          seq_len: 10
          n_features: 1
      preprocess:
        - name: "LogTransformer"
          stateful: false
          conf:
            add_factor: 5
      threshold:
        name: "StdDevThreshold"
        conf:
          min_threshold: 0.1
      trainer:
        min_train_size: 180
        retrain_freq_hr: 8
        train_hours: 240
        retry_sec: 900

redis_conf:
  url: "isbsvc-fci-redis-isbs-redis-svc.oss-analytics-numalogicosamfci-usw2-prd.svc"
  port: 26379
  expiry: 360
  master_name: "mymaster"

registry_conf:
  name: "RedisRegistry"
  model_expiry_sec: 172800
  jitter_conf:
    jitter_sec: 900
    jitter_steps_sec: 120

druid_conf:
  url: "https://obelix-qal.odldruid-ppd.a.intuit.com/1"
  endpoint: "druid/v2"
  fetcher:
    dimensions: [ "pluginAssetAlias" ]
    datasource: "tech-ip-customer-interaction-metrics"
    group_by: [ "timestamp", "pluginAssetAlias" ]
