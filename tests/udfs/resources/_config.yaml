stream_confs:
  fciMobileNoLibrary:
    config_id: "fciMobileNoLibrary"
    source: "druid"
    composite_keys: ["assetId", "interactionName", "mobileLibraryAssetId"]
    window_size: 10
    ml_pipelines:
      metrics:
        pipeline_id: "metrics"
        metrics: [ "failed" , "degraded" ]
        numalogic_conf:
          model:
            name: "VanillaAE"
            conf:
              seq_len: 20
              n_features: 1
              loss_fn: "mse"
          preprocess:
            - name: "FlattenVector"
              stateful: false
              conf:
                n_features: 2
            - name: "LogTransformer"
              stateful: false
              conf:
                add_factor: 2
          threshold:
            name: "MaxPercentileThreshold"
            conf:
              min_threshold: 0.1
              max_inlier_percentile: 90
          trainer:
            min_train_size: 180
            retrain_freq_hr: 8
            batch_size: 128
            train_hours: 240
            retry_sec: 600
            pltrainer_conf:
              max_epochs: 40

redis_conf:
  url: ""
  port: 26379
  expiry: 360
  master_name: "mymaster"

druid_conf:
  url: ""
  endpoint: ""
  id_fetcher:
    fciPluginAppInteractions-metrics:
        dimensions: [ "ciStatus" ]
        datasource: ""
        group_by: [ "timestamp", "ciStatus" ]
        pivot:
          columns: [ "ciStatus" ]